{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/App/App.module.css","components/SearchBar/SearchBar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Loader/Loader.js","components/Modal/Modal.js","services/apiRequest.js","services/scroll.js","components/App/App.js","index.js","components/SearchBar/SearchBar.module.css","components/ImageGallery/ImageGallery.module.css","components/Modal/Modal.module.css"],"names":["module","exports","SearchBar","state","inputValue","inputTracking","ev","setState","target","value","submitForm","preventDefault","props","onSubmit","className","styles","header","searchForm","this","type","searchBtn","icon","id","viewBox","fill","d","input","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","smalllImageHref","largeImageHref","src","alt","image","data-value","ImageGallery","images","openModal","list","map","key","element","onClick","webformatURL","largeImageURL","Button","moreImages","btn","Spinner","color","height","width","Modal","href","closeModal","overlay","modal","apiRequest","searchQuery","page","fetch","then","response","json","scroll","window","scrollTo","top","document","documentElement","scrollHeight","behavior","App","loading","error","modalHref","toLocaleLowerCase","fetchRequest","perPage","prevState","hits","catch","finally","onOpenModal","dataset","addEventListener","onCloseModal","code","nodeName","removeEventListener","prevProps","setTimeout","localStorage","setItem","JSON","stringify","wrapper","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d6b3ccad.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImageGalleryItem_image__1yspX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__2VANN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"App_wrapper__3eqot\"};","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./SearchBar.module.css\";\r\n\r\nexport default class SearchBar extends Component {\r\n  static propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n  };\r\n  state = { inputValue: \"\" };\r\n\r\n  inputTracking = (ev) => {\r\n    this.setState({ inputValue: ev.target.value });\r\n  };\r\n\r\n  submitForm = (ev) => {\r\n    ev.preventDefault();\r\n    this.props.onSubmit(this.state.inputValue);\r\n    this.setState({ inputValue: \"\" });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={styles.header}>\r\n        <form className={styles.searchForm} onSubmit={this.submitForm}>\r\n          <button type=\"submit\" className={styles.searchBtn}>\r\n            <svg className={styles.icon}>\r\n              <symbol id=\"icon-search\" viewBox=\"0 0 32 32\" fill=\"#000\">\r\n                <path d=\"M31.008 27.231l-7.58-6.447c-0.784-0.705-1.622-1.029-2.299-0.998 1.789-2.096 2.87-4.815 2.87-7.787 0-6.627-5.373-12-12-12s-12 5.373-12 12 5.373 12 12 12c2.972 0 5.691-1.081 7.787-2.87-0.031 0.677 0.293 1.515 0.998 2.299l6.447 7.58c1.104 1.226 2.907 1.33 4.007 0.23s0.997-2.903-0.23-4.007zM12 20c-4.418 0-8-3.582-8-8s3.582-8 8-8 8 3.582 8 8-3.582 8-8 8z\"></path>\r\n              </symbol>\r\n            </svg>\r\n          </button>\r\n\r\n          <input\r\n            className={styles.input}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.inputValue}\r\n            onChange={this.inputTracking}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./ImageGalleryItem.module.css\";\r\n\r\nfunction ImageGalleryItem({ smalllImageHref, largeImageHref }) {\r\n  return (\r\n    <img\r\n      src={smalllImageHref}\r\n      alt=\"\"\r\n      className={styles.image}\r\n      data-value={largeImageHref}\r\n    />\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  largeImageHref: PropTypes.string.isRequired,\r\n  smalllImageHref: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport styles from \"./ImageGallery.module.css\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem.js\";\r\n\r\nfunction ImageGallery({ images, openModal }) {\r\n  return (\r\n    <ul className={styles.list}>\r\n      {images.map((image) => (\r\n        <li key={image.id} className={styles.element} onClick={openModal}>\r\n          <ImageGalleryItem\r\n            smalllImageHref={image.webformatURL}\r\n            largeImageHref={image.largeImageURL}\r\n          />\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  openModal: PropTypes.func.isRequired,\r\n  images: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      largeImageHref: PropTypes.string.isRequired,\r\n      smalllImageHref: PropTypes.string.isRequired,\r\n    })\r\n  ),\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./Button.module.css\";\r\n\r\nfunction Button({ moreImages }) {\r\n  return (\r\n    <button type=\"button\" className={styles.btn} onClick={moreImages}>\r\n      Load more...\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  largeImageHref: PropTypes.string.isRequired,\r\n  smalllImageHref: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import React, { Component } from \"react\";\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nexport default class Spinner extends Component {\r\n  render() {\r\n    return <Loader type=\"Circles\" color=\"#00BFFF\" height={80} width={80} />;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport styles from \"./Modal.module.css\";\r\n\r\nfunction Modal({ href, closeModal }) {\r\n  return (\r\n    <div className={styles.overlay} onClick={closeModal}>\r\n      <div className={styles.modal}>\r\n        <img src={href} alt=\"\" />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  closeModal: PropTypes.func.isRequired,\r\n  href: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","export default function apiRequest(searchQuery, page) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?key=17627070-1cea1e131d3999467dc2c3a3b&q=${searchQuery}\r\n    &image_type=photo&orientation=horizontal&page=${page}&per_page=12`\r\n  ).then((response) => response.json());\r\n}\r\n","export default function scroll() {\r\n  window.scrollTo({\r\n    top: document.documentElement.scrollHeight,\r\n    behavior: \"smooth\",\r\n  });\r\n}\r\n","import React, { Component } from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n// Components\r\nimport SearchBar from \"../SearchBar/SearchBar\";\r\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\r\nimport Button from \"../Button/Button\";\r\nimport Spinner from \"../Loader/Loader\";\r\nimport Modal from \"../Modal/Modal\";\r\n// Tools\r\nimport apiRequest from \"../../services/apiRequest\";\r\nimport scroll from \"../../services/scroll\";\r\n//  Styles\r\nimport styles from \"./App.module.css\";\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    images: [],\r\n    searchQuery: \"\",\r\n    page: 1,\r\n    loading: false,\r\n    error: false,\r\n    modalHref: false,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.searchQuery !== this.state.searchQuery) {\r\n      this.fetchRequest();\r\n    }\r\n    if (prevState.page !== this.state.page) {\r\n      setTimeout(scroll, 1000);\r\n    }\r\n\r\n    if (prevState.images !== this.state.images) {\r\n      localStorage.setItem(\"images\", JSON.stringify(this.state.images));\r\n    }\r\n  }\r\n\r\n  onSubmit = (value) => {\r\n    if (\r\n      this.state.searchQuery.toLocaleLowerCase() !== value.toLocaleLowerCase()\r\n    ) {\r\n      this.setState({ searchQuery: value, page: 1, images: [] });\r\n    }\r\n  };\r\n\r\n  fetchRequest = () => {\r\n    const { searchQuery, page, perPage } = this.state;\r\n    //\r\n    this.setState((prevState) => {\r\n      return { page: prevState.page + 1, loading: true };\r\n    });\r\n\r\n    // this.setState({ loading: true });\r\n    apiRequest(searchQuery, page, perPage)\r\n      .then((response) =>\r\n        this.setState((prevState) => {\r\n          return { images: [...prevState.images, ...response.hits] };\r\n        })\r\n      )\r\n      .catch((error) => this.setState({ error }))\r\n      .finally(() => this.setState({ loading: false }));\r\n  };\r\n\r\n  // moreImages = async () => {\r\n  //   await this.setState((prevState) => {\r\n  //     return { page: prevState.page + 1 };\r\n  //   });\r\n  //   await this.fetchRequest();\r\n  // };\r\n\r\n  onOpenModal = (ev) => {\r\n    this.setState({ modalHref: ev.target.dataset.value });\r\n    window.addEventListener(\"keydown\", this.onCloseModal);\r\n  };\r\n\r\n  onCloseModal = (ev) => {\r\n    if (ev.code === \"Escape\" || ev.target.nodeName === \"DIV\") {\r\n      this.setState({ modalHref: \"\" });\r\n      window.removeEventListener(\"keydown\", this.onCloseModal);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { images, loading, modalHref } = this.state;\r\n\r\n    return (\r\n      <div className={styles.wrapper}>\r\n        <SearchBar onSubmit={this.onSubmit} />\r\n        {images.length > 0 && (\r\n          <ImageGallery images={images} openModal={this.onOpenModal} />\r\n        )}\r\n        {images.length > 0 && !loading && (\r\n          <Button moreImages={this.fetchRequest} />\r\n        )}\r\n        {loading && <Spinner />}\r\n        {modalHref && <Modal href={modalHref} closeModal={this.onCloseModal} />}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App/App\";\nimport \"./styles.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"SearchBar_header__J1s_o\",\"searchForm\":\"SearchBar_searchForm__1O8aR\",\"input\":\"SearchBar_input__3UT5O\",\"searchBtn\":\"SearchBar_searchBtn__35pAA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ImageGallery_list__1g57D\",\"element\":\"ImageGallery_element__2KH58\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3cSH0\",\"modal\":\"Modal_modal__dtkHm\"};"],"sourceRoot":""}